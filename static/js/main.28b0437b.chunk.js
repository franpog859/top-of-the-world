(this["webpackJsonpto-the-top"]=this["webpackJsonpto-the-top"]||[]).push([[0],{19:function(e,t,n){e.exports=n(41)},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},36:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(11),r=n.n(c),i=(n(24),n(2)),l=n.n(i),s=n(6),u=n(3),m=(n(26),n(27),n(12)),d=n.n(m),p=n(1),h=n(13),f=n.n(h),g=n(14),E=n.n(g),b=n(15),v=n.n(b);var k=function(e){var t=e.didFetchingFail,n=e.isLocationAvailable,a=e.isEncourageMessage,c=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Want to go to THE TOP OF THE WORLD but you're too lazy to even think about the Himalayas?"),o.a.createElement("p",null,"Well, I've got something for you!")),r=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Want to go to THE TOP OF THE WORLD but you're too lazy to even think about the Himalayas?"),o.a.createElement("p",null,"Well, I've got something for you!"),o.a.createElement("p",null,"Just click the button ",o.a.createElement(p.Icon,{icon:v.a,className:"Lead-icon"}))),i=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Allow the location!"),o.a.createElement("p",null,"Click on the ",o.a.createElement(p.Icon,{icon:f.a,className:"Lead-icon"})," near the website address!")),l=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Something went wrong ",o.a.createElement(p.Icon,{icon:E.a,className:"Lead-icon"})),o.a.createElement("p",null,"Try to refresh the app!")),s=n?t?l:a?r:c:i;return o.a.createElement("div",{className:"Lead","data-testid":"Lead"},o.a.createElement("div",{className:"Lead-div Lead-animation",key:d.a.generate()},s))},w=(n(36),n(8)),O=n(9);var F=function(e){var t=e.clickMapButton,n=e.clickAboutButton,a=e.isMapButtonClicked,c={background:"#c7b198",color:"#f0ece3",borderRadius:"25px",textDecoration:"none",fontSize:"calc(10px + 2vmin)",margin:"5px"};return o.a.createElement("div",{className:"Buttons","data-testid":"Buttons"},o.a.createElement("header",{className:"Buttons-header"},o.a.createElement(O.a,{className:"Buttons-ripple"},o.a.createElement(w.a,{onClick:t,style:c,variant:"link",size:"lg",disabled:a},a?o.a.createElement(o.a.Fragment,null,"Wait for it..."):o.a.createElement(o.a.Fragment,null,"Take me to the TOP!"))," "),o.a.createElement(O.a,{className:"Buttons-ripple"},o.a.createElement(w.a,{onClick:n,style:c,variant:"link",size:"lg"},"Wait, what?"))))},j=(n(39),n(17)),y=n.n(j),N=n(18),B=n.n(N);var S=function(){return o.a.createElement("div",{className:"Footer","data-testid":"Footer"},o.a.createElement("header",{className:"Footer-header"},o.a.createElement("p",null,o.a.createElement("a",{href:"https://github.com/franpog859",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(p.Icon,{icon:B.a,className:"Footer-icon"})),o.a.createElement("a",{href:"https://www.linkedin.com/in/franciszekpogodzinski/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(p.Icon,{icon:y.a,className:"Footer-icon"})))))};var L=function(){var e=Object(a.useState)(void 0),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(void 0),i=Object(u.a)(r,2),m=i[0],d=i[1],p=Object(a.useState)(!1),h=Object(u.a)(p,2),f=h[0],g=h[1],E=Object(a.useState)(!1),b=Object(u.a)(E,2),v=b[0],w=b[1],O=Object(a.useState)(!1),j=Object(u.a)(O,2),y=j[0],N=j[1],B="https://to-the-top-backend.herokuapp.com",L=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.geolocation.getCurrentPosition((function(e){return c(e)}),(function(e){return console.error("Failed to get current position: ",e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Warming the backend up..."),fetch("".concat(B,"/healthz"),{headers:{token:"totalsecuretoken123"}}).then((function(e){return e.json()})).then((function(e){return console.debug(e)})).catch((function(e){return console.error("Failed to warm up the backend: ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){L(),W()}),[]);var T=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Fetching closest top position..."),fetch((t=n,"".concat(B,"/closestTop/").concat(t.coords.latitude,"/").concat(t.coords.longitude)),{headers:{token:"totalsecuretoken123"}}).then((function(e){return e.json()})).then((function(e){return console.debug(e),e})).then((function(e){d({latitude:e.latitude,longitude:e.longitude}),!1===f&&w(!0)})).catch((function(e){console.error("Failed to get closest top: ",e),N(!0),g(!1)}));case 2:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){n&&T()}),[n]),Object(a.useEffect)((function(){void 0!==n&&void 0!==m&&!0===f&&(!function(){var e=n.coords.latitude.toString(),t=n.coords.longitude.toString(),a=m.latitude.toString(),o=m.longitude.toString();window.open("https://www.google.be/maps/dir/".concat(e,",").concat(t)+"/".concat(a,",").concat(o,"/data=!3m1!4b1!4m2!4m1!3e2"))}(),g(!1),w(!1))}),[n,m,f]),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header App-animation"},o.a.createElement(k,{didFetchingFail:y,isLocationAvailable:void 0!==n,isEncourageMessage:v}),o.a.createElement(F,{clickMapButton:function(){g(!0)},clickAboutButton:function(){window.open("https://github.com/franpog859/top-of-the-world/blob/master/README.md")},isMapButtonClicked:f}),o.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(40);r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.28b0437b.chunk.js.map